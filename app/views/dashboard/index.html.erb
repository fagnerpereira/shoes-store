<%= area_chart Sale.group_by_day(:created_at).count %>

<%= bar_chart Sale.joins(:store)
                  .group('stores.name')
                  .limit(5)
                  .count
                  .sort_by { |_, count| count }.reverse %>

<%= bar_chart Sale.joins(:product)
                  .group('products.name')
                  .limit(5)
                  .count
                  .sort_by { |_, count| count }.reverse %>

<h1>Latest Sales</h1>
<table>
  <thead>
    <tr>
      <th>Store</th>
      <th>Product</th>
      <th>Quantity</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    <% Sale.all.limit(10).order(created_at: :desc).each do |sale| %>
      <tr>
        <td><%= sale.store.name %></td>
        <td><%= sale.product.name %></td>
        <td><%= sale.quantity %></td>
        <td><%= sale.created_at %></td>
      </tr>
    <% end %>
  </tbody>
</table>
